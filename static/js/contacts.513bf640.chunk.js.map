{"version":3,"file":"static/js/contacts.513bf640.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Section/Section.module.css?dbe8","components/Section/Section.js","webpack://react-homework-template/./src/components/Form/Form.module.css?89ba","components/Form/Form.js","webpack://react-homework-template/./src/components/Filter/Filter.module.css?fad1","components/Filter/Filter.js","webpack://react-homework-template/./src/components/Contacts/Contacts.module.css?5e71","components/Contacts/Contacts.js","webpack://react-homework-template/./src/components/UserMenu/UserMenu.module.css?1b0e","components/UserMenu/UserMenu.js","webpack://react-homework-template/./src/components/Container/Container.module.css?9f71","components/Container/Container.js","pages/ContactsPage.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Section_section__Z2PLw\",\"tittle\":\"Section_tittle__ZAMMr\"};","import PropTypes from 'prop-types';\nimport s from './Section.module.css';\n\nexport default function Section({ children, tittle }) {\n  return (\n    <section className={s.section}>\n      <h1 className={s.tittle}>{tittle}</h1>\n      {children}\n    </section>\n  );\n}\n\nSection.propTypes = {\n  tittle: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Form_form__e1yzW\",\"btn\":\"Form_btn__0ebGo\"};","import { useState } from 'react';\n\nimport s from './Form.module.css';\n\nimport {\n  useAddContactMutation,\n  useGetContactsQuery,\n} from '../../redux/contacts/contactsAPI';\nimport Loader from 'components/Loader/Loader';\n\nexport default function Form() {\n  const [addContact, { isLoading }] = useAddContactMutation();\n  const { data } = useGetContactsQuery();\n  const [contactName, setContactName] = useState('');\n  const [number, setNumber] = useState('');\n\n  const handleInputChange = event => {\n    const { name, value } = event.currentTarget;\n    if (name === 'name') {\n      setContactName(value);\n    }\n    if (name === 'number') {\n      setNumber(value);\n    }\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (\n      data?.some(({ name }) => name.toLowerCase() === contactName.toLowerCase())\n    ) {\n      reset();\n      return alert(`${contactName} is already in contacts`);\n    }\n    addContact({ name: contactName, number });\n    reset();\n  };\n\n  const reset = () => {\n    setContactName('');\n    setNumber('');\n  };\n\n  return (\n    <>\n      <form className={s.form} onSubmit={handleSubmit}>\n        <label className={s.label}>\n          Name\n          <input\n            className={s.input}\n            type=\"text\"\n            name=\"name\"\n            value={contactName}\n            onChange={handleInputChange}\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n            title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n            required\n          />\n        </label>\n        <label className={s.label}>\n          Number\n          <input\n            className={s.input}\n            type=\"tel\"\n            name=\"number\"\n            value={number}\n            onChange={handleInputChange}\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n            title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\n            required\n          />\n        </label>\n        <button className={s.btn} type=\"submit\">Add contact</button>\n      </form>\n      {isLoading && <Loader />}\n    </>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Filter_input__N7T3z\"};","import { useDispatch, useSelector } from 'react-redux';\n\nimport s from './Filter.module.css';\nimport { filterContacts } from '../../redux/contacts/contacts-actions';\n\nexport default function Filter() {\n  const filter = useSelector(state => state.filter);\n\n  const dispatch = useDispatch();\n  return (\n    <label className={s.label}>\n      Find contacts by name\n      <input\n        className={s.input}\n        type=\"text\"\n        value={filter}\n        onChange={e => dispatch(filterContacts(e.target.value))}\n      />\n    </label>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Contacts_item__WTDnh\",\"list\":\"Contacts_list__R3QeP\",\"text\":\"Contacts_text__Cijp1\",\"btn\":\"Contacts_btn__rNftF\"};","import Loader from 'components/Loader/Loader';\nimport { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  useGetContactsQuery,\n  useDeleteContactMutation,\n} from 'redux/contacts/contactsAPI';\nimport s from './Contacts.module.css';\n\nexport default function Contacts() {\n  const [contacts, setContacts] = useState();\n  const { data, isLoading } = useGetContactsQuery();\n\n  const [deleteContact, { isLoading: loading }] = useDeleteContactMutation();\n\n  const filter = useSelector(state => state.contactBook.filter);\n\n  useEffect(() => {\n    data && setContacts(data);\n  }, [data]);\n\n  const getVisibleContacts = () =>\n    contacts?.filter(({ name }) =>\n      name.toLowerCase().includes(filter.toLowerCase())\n    );\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      {loading && <Loader />}\n      <ul className={s.list}>\n        {getVisibleContacts()?.map(({ id, name, number }) => {\n          return (\n            <li className={s.item} key={id}>\n              <p className={s.text}>\n                {name}&#32;:&#32;{number}\n              </p>\n              <button\n                className={s.btn}\n                type=\"button\"\n                onClick={() => deleteContact(id)}\n              >\n                Delete\n              </button>\n            </li>\n          );\n        })}\n      </ul>\n    </>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"UserMenu_header__up4RW\",\"name\":\"UserMenu_name__Estw5\",\"btn\":\"UserMenu_btn__cDmR5\"};","import { useDispatch } from 'react-redux';\nimport { useSelector } from 'react-redux';\nimport { useLogoutUserMutation } from 'redux/contacts/contactsAPI';\nimport { resetUser } from 'redux/contacts/contacts-actions';\nimport s from './UserMenu.module.css';\n\nexport default function UserMenu() {\n  const name = useSelector(state => state.contactBook.user.name);\n  const [logoutUser] = useLogoutUserMutation();\n  const dispatch = useDispatch();\n\n  const handleLogout = e => {\n    e.preventDefault();\n    logoutUser()\n      .unwrap()\n      .then(() => {\n        dispatch(resetUser());\n      });\n  };\n\n  return (\n    <header className={s.header}>\n      <p className={s.name}>{name}</p>\n      <button className={s.btn} type=\"button\" onClick={handleLogout}>\n        Log Out\n      </button>\n    </header>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Container_container__VVOCq\"};","import s from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n","import Section from 'components/Section/Section';\nimport Form from 'components/Form/Form';\nimport Filter from 'components/Filter/Filter';\nimport Contacts from 'components/Contacts/Contacts';\nimport UserMenu from 'components/UserMenu/UserMenu';\nimport Container from 'components/Container/Container';\n\nexport default function ContactsPage() {\n  return (\n    <>\n      <UserMenu />\n      <Container>\n        <Section tittle=\"Phonebook\">\n          <Form />\n        </Section>\n\n        <Section tittle=\"Contacts\">\n          <Filter />\n          <Contacts />\n        </Section>\n      </Container>\n    </>\n  );\n}\n"],"names":["Section","children","tittle","className","s","Form","useAddContactMutation","addContact","isLoading","data","useGetContactsQuery","useState","contactName","setContactName","number","setNumber","handleInputChange","event","currentTarget","name","value","reset","onSubmit","preventDefault","some","toLowerCase","alert","type","onChange","pattern","title","required","Loader","Filter","filter","useSelector","state","dispatch","useDispatch","e","filterContacts","target","Contacts","contacts","setContacts","useDeleteContactMutation","deleteContact","loading","contactBook","useEffect","includes","map","id","onClick","UserMenu","user","useLogoutUserMutation","logoutUser","unwrap","then","resetUser","Container","ContactsPage"],"sourceRoot":""}